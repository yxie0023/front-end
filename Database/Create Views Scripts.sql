CREATE ALGORITHM=UNDEFINED DEFINER=`root`@`%` SQL SECURITY DEFINER VIEW `projectfit5120`.`vw_CombinedVaccineDescEffects` AS select distinct `p`.`VaccineName` AS `VaccineName`,`p`.`Disease` AS `Description`,`p`.`SideEffectsOfVaccination` AS `SideEffect`,1 AS `VaccineAgeType` from (`projectfit5120`.`vw_Side-effects-disease-Vaccine` `p` join `projectfit5120`.`vw_VaccineOver20` `t` on((`p`.`VaccineCode` = `t`.`VaccineCode`))) union all select distinct `p`.`VaccineName` AS `VaccineName`,`p`.`Disease` AS `Description`,`p`.`SideEffectsOfVaccination` AS `SideEffect`,0 AS `VaccineAgeType` from (`projectfit5120`.`vw_Side-effects-disease-Vaccine` `p` join `projectfit5120`.`vw_Vaccine10To19` `t` on((`p`.`VaccineCode` = `t`.`VaccineCode`)));

CREATE ALGORITHM=UNDEFINED DEFINER=`root`@`%` SQL SECURITY DEFINER VIEW `projectfit5120`.`vw_County` AS select distinct `projectfit5120`.`global-vaccination-coverage`.`Entity` AS `CountryName`,`projectfit5120`.`global-vaccination-coverage`.`Code` AS `CountryCode` from `projectfit5120`.`global-vaccination-coverage` where (`projectfit5120`.`global-vaccination-coverage`.`Code` <> '');

CREATE ALGORITHM=UNDEFINED DEFINER=`root`@`%` SQL SECURITY DEFINER VIEW `projectfit5120`.`vw_GlobalVaccinationCoverage` AS select `projectfit5120`.`global-vaccination-coverage`.`Code` AS `Country Code`,`projectfit5120`.`global-vaccination-coverage`.`Year` AS `Year`,`projectfit5120`.`global-vaccination-coverage`.`BCG (% of one-year-olds immunized)` AS `Vaccine%Rate`,'BBG' AS `VaccineCode`,'Tuberculosis' AS `VaccineName` from `projectfit5120`.`global-vaccination-coverage` union all select `projectfit5120`.`global-vaccination-coverage`.`Code` AS `Country Code`,`projectfit5120`.`global-vaccination-coverage`.`Year` AS `Year`,`projectfit5120`.`global-vaccination-coverage`.`HepB3 (% of one-year-olds immunized)` AS `Vaccine%Rate`,'HepB3' AS `VaccineCode`,'Hepatitis B' AS `VaccineName` from `projectfit5120`.`global-vaccination-coverage` union all select `projectfit5120`.`global-vaccination-coverage`.`Code` AS `Country Code`,`projectfit5120`.`global-vaccination-coverage`.`Year` AS `Year`,`projectfit5120`.`global-vaccination-coverage`.`Hib3 (% of one-year-olds immunized)` AS `Vaccine%Rate`,'Hib' AS `VaccineCode`,'Haemophilus influenzae type b' AS `VaccineName` from `projectfit5120`.`global-vaccination-coverage` union all select `projectfit5120`.`global-vaccination-coverage`.`Code` AS `Country Code`,`projectfit5120`.`global-vaccination-coverage`.`Year` AS `Year`,`projectfit5120`.`global-vaccination-coverage`.`IPV1 (% of one-year-olds immunized)` AS `Vaccine%Rate`,'IPV1' AS `VaccineCode`,'Poliovirus' AS `VaccineName` from `projectfit5120`.`global-vaccination-coverage` union all select `projectfit5120`.`global-vaccination-coverage`.`Code` AS `Country Code`,`projectfit5120`.`global-vaccination-coverage`.`Year` AS `Year`,`projectfit5120`.`global-vaccination-coverage`.`MCV1 (% of one-year-olds immunized)` AS `Vaccine%Rate`,'MMR' AS `VaccineCode`,'Measles-containing-vaccine first-dose' AS `VaccineName` from `projectfit5120`.`global-vaccination-coverage` union all select `projectfit5120`.`global-vaccination-coverage`.`Code` AS `Country Code`,`projectfit5120`.`global-vaccination-coverage`.`Year` AS `Year`,`projectfit5120`.`global-vaccination-coverage`.`PCV3 (% of one-year-olds immunized)` AS `Vaccine%Rate`,'PCV' AS `VaccineCode`,'Pneumococcal Conjugate' AS `VaccineName` from `projectfit5120`.`global-vaccination-coverage` union all select `projectfit5120`.`global-vaccination-coverage`.`Code` AS `Country Code`,`projectfit5120`.`global-vaccination-coverage`.`Year` AS `Year`,`projectfit5120`.`global-vaccination-coverage`.`Pol3 (% of one-year-olds immunized)` AS `Vaccine%Rate`,'Pol3' AS `VaccineCode`,'Polio 1 Year Old' AS `VaccineName` from `projectfit5120`.`global-vaccination-coverage` union all select `projectfit5120`.`global-vaccination-coverage`.`Code` AS `Country Code`,`projectfit5120`.`global-vaccination-coverage`.`Year` AS `Year`,`projectfit5120`.`global-vaccination-coverage`.`RCV1 (% of one-year-olds immunized)` AS `Vaccine%Rate`,'RCV1' AS `VaccineCode`,'Rubella 1 Year Old' AS `VaccineName` from `projectfit5120`.`global-vaccination-coverage` union all select `projectfit5120`.`global-vaccination-coverage`.`Code` AS `Country Code`,`projectfit5120`.`global-vaccination-coverage`.`Year` AS `Year`,`projectfit5120`.`global-vaccination-coverage`.`RotaC (% of one-year-olds immunized)` AS `Vaccine%Rate`,'RotaC' AS `VaccineCode`,'Rotavirus' AS `VaccineName` from `projectfit5120`.`global-vaccination-coverage` union all select `projectfit5120`.`global-vaccination-coverage`.`Code` AS `Country Code`,`projectfit5120`.`global-vaccination-coverage`.`Year` AS `Year`,`projectfit5120`.`global-vaccination-coverage`.`YFV (% of one-year-olds immunized)` AS `Vaccine%Rate`,'YFV' AS `VaccineCode`,'Yellow Fever Vaccine' AS `VaccineName` from `projectfit5120`.`global-vaccination-coverage` union all select `projectfit5120`.`global-vaccination-coverage`.`Code` AS `Country Code`,`projectfit5120`.`global-vaccination-coverage`.`Year` AS `Year`,`projectfit5120`.`global-vaccination-coverage`.`DTP3 (% of one-year-olds immunized)` AS `Vaccine%Rate`,'DTP3' AS `VaccineCode`,'Diphtheria, tetanus, pertussis' AS `VaccineName` from `projectfit5120`.`global-vaccination-coverage` union all select `projectfit5120`.`global-vaccination-coverage`.`Code` AS `Country Code`,`projectfit5120`.`global-vaccination-coverage`.`Year` AS `Year`,`projectfit5120`.`global-vaccination-coverage`.`MCV2 (% of children immunized)` AS `Vaccine%Rate`,'MMR' AS `VaccineCode`,'Measles-containing-vaccine second-dose' AS `VaccineName` from `projectfit5120`.`global-vaccination-coverage`;

CREATE ALGORITHM=UNDEFINED DEFINER=`root`@`%` SQL SECURITY DEFINER VIEW `projectfit5120`.`vw_HealthcareTrust` AS select `projectfit5120`.`trust-healthcare-vs-vaccine-safety`.`Code` AS `CountryCode`,`projectfit5120`.`trust-healthcare-vs-vaccine-safety`.`Year` AS `Year`,concat(cast(cast(`projectfit5120`.`trust-healthcare-vs-vaccine-safety`.`trust doctors and nurses` as decimal(10,0)) as char(2) charset utf8mb4),'%') AS `DoctorsANursesTrust%`,concat(cast(cast(`projectfit5120`.`trust-healthcare-vs-vaccine-safety`.`disagree vaccines are safe` as decimal(10,0)) as char(2) charset utf8mb4),'%') AS `DisagreeVaccineSafe%`,`projectfit5120`.`trust-healthcare-vs-vaccine-safety`.`Continent` AS `Continent` from `projectfit5120`.`trust-healthcare-vs-vaccine-safety`;

CREATE ALGORITHM=UNDEFINED DEFINER=`root`@`%` SQL SECURITY DEFINER VIEW `projectfit5120`.`vw_Side-effects-disease-Vaccine` AS select `projectfit5120`.`Side-effects-disease-Vaccine`.`Vaccine Name` AS `VaccineName`,`projectfit5120`.`Side-effects-disease-Vaccine`.`Disease` AS `Disease`,`projectfit5120`.`Side-effects-disease-Vaccine`.`Effects of Disease` AS `EffectsofDisease`,`projectfit5120`.`Side-effects-disease-Vaccine`.`Side Effects of Vaccination` AS `SideEffectsOfVaccination`,(case when (`projectfit5120`.`Side-effects-disease-Vaccine`.`Vaccine Name` = 'Diphtheria') then 'DTP3' when (`projectfit5120`.`Side-effects-disease-Vaccine`.`Vaccine Name` = 'Pertussis') then 'DTP3' when (`projectfit5120`.`Side-effects-disease-Vaccine`.`Vaccine Name` = 'Tetanus') then 'DTP3' when (`projectfit5120`.`Side-effects-disease-Vaccine`.`Vaccine Name` = 'Poliomyelitis') then 'IPV1' when (`projectfit5120`.`Side-effects-disease-Vaccine`.`Vaccine Name` = 'mumps, Measles, rubella') then 'MMR' when (`projectfit5120`.`Side-effects-disease-Vaccine`.`Vaccine Name` = 'Hepatitis A') then 'HepA' when (`projectfit5120`.`Side-effects-disease-Vaccine`.`Vaccine Name` = 'Hepatitis B') then 'HepB3' when (`projectfit5120`.`Side-effects-disease-Vaccine`.`Vaccine Name` = 'Mumps') then 'MMR' when (`projectfit5120`.`Side-effects-disease-Vaccine`.`Vaccine Name` = 'HIB') then 'Hib' when (`projectfit5120`.`Side-effects-disease-Vaccine`.`Vaccine Name` = 'HPV') then 'HPV' when (`projectfit5120`.`Side-effects-disease-Vaccine`.`Vaccine Name` = 'Measles') then 'MMR' when (`projectfit5120`.`Side-effects-disease-Vaccine`.`Vaccine Name` = 'Rubella') then 'MMR' when (`projectfit5120`.`Side-effects-disease-Vaccine`.`Vaccine Name` = 'Influenza') then 'Influenza' when (`projectfit5120`.`Side-effects-disease-Vaccine`.`Vaccine Name` = 'Meningococcal') then 'MenCCV' when (`projectfit5120`.`Side-effects-disease-Vaccine`.`Vaccine Name` = 'Varicella') then 'Varicella' end) AS `VaccineCode` from `projectfit5120`.`Side-effects-disease-Vaccine`;

CREATE ALGORITHM=UNDEFINED DEFINER=`root`@`%` SQL SECURITY DEFINER VIEW `projectfit5120`.`vw_Vaccine10To19` AS select `projectfit5120`.`Vaccine 10-19 years Old`.`Vaccine` AS `Vaccine`,`projectfit5120`.`Vaccine 10-19 years Old`.`Clinicallyrecommended(Funded)` AS `Clinicallyrecommended(Funded)`,`projectfit5120`.`Vaccine 10-19 years Old`.`LinkedTofamilypayments` AS `LinkedTofamilypayments`,`projectfit5120`.`Vaccine 10-19 years Old`.`DosesRequired` AS `DosesRequired`,`projectfit5120`.`Vaccine 10-19 years Old`.`MinIntervalBetweenDose1and2` AS `MinIntervalBetweenDose1and2`,`projectfit5120`.`Vaccine 10-19 years Old`.`MinIntervalBetweenDose2and3` AS `MinIntervalBetweenDose2and3`,(case when (`projectfit5120`.`Vaccine 10-19 years Old`.`Vaccine` in ('dT *','Pertussis')) then 'DTP3' when (`projectfit5120`.`Vaccine 10-19 years Old`.`Vaccine` = 'MMR') then 'Mumps, Measles, Rubella' when (`projectfit5120`.`Vaccine 10-19 years Old`.`Vaccine` like 'Poliomyelitis%') then 'Poliomyelitis' when (`projectfit5120`.`Vaccine 10-19 years Old`.`Vaccine` like 'Hepatitis B%') then 'Hepatitis B' when (`projectfit5120`.`Vaccine 10-19 years Old`.`Vaccine` = 'MenCCV') then 'Mningococcal' when (`projectfit5120`.`Vaccine 10-19 years Old`.`Vaccine` like '%Varicella%') then 'Varicella' when (`projectfit5120`.`Vaccine 10-19 years Old`.`Vaccine` like '%Pneumoccocal%') then 'Pneumoccocal' when (`projectfit5120`.`Vaccine 10-19 years Old`.`Vaccine` = 'Hib') then 'Haemophilus influenzae type b' when (`projectfit5120`.`Vaccine 10-19 years Old`.`Vaccine` = 'Rotavirus') then 'Rotavirus' end) AS `VaccineName`,(case when (`projectfit5120`.`Vaccine 10-19 years Old`.`Vaccine` in ('dT *','Pertussis')) then 'Diphtheria, Pertussis, Tetanus' when (`projectfit5120`.`Vaccine 10-19 years Old`.`Vaccine` = 'MMR') then 'MMR' when (`projectfit5120`.`Vaccine 10-19 years Old`.`Vaccine` like 'Poliomyelitis%') then 'IPV1' when (`projectfit5120`.`Vaccine 10-19 years Old`.`Vaccine` like 'Hepatitis B%') then 'HepB3' when (`projectfit5120`.`Vaccine 10-19 years Old`.`Vaccine` = 'MenCCV') then 'MenCCV' when (`projectfit5120`.`Vaccine 10-19 years Old`.`Vaccine` like '%Varicella%') then 'Varicella' when (`projectfit5120`.`Vaccine 10-19 years Old`.`Vaccine` like '%Pneumoccocal%') then 'PCV' when (`projectfit5120`.`Vaccine 10-19 years Old`.`Vaccine` = 'Hib') then 'Hib' when (`projectfit5120`.`Vaccine 10-19 years Old`.`Vaccine` = 'Rotavirus') then 'RotaC' end) AS `VaccineCode` from `projectfit5120`.`Vaccine 10-19 years Old`;

CREATE ALGORITHM=UNDEFINED DEFINER=`root`@`%` SQL SECURITY DEFINER VIEW `projectfit5120`.`vw_VaccineOver20` AS select `projectfit5120`.`vaccines-for-refugees-aged-20-years`.`Antigen` AS `Antigen`,`projectfit5120`.`vaccines-for-refugees-aged-20-years`.`Total doses needed` AS `TotalDoses`,`projectfit5120`.`vaccines-for-refugees-aged-20-years`.`Minimal interval between doses` AS `MinInterval`,`projectfit5120`.`vaccines-for-refugees-aged-20-years`.`Notes` AS `Notes`,(case when (`projectfit5120`.`vaccines-for-refugees-aged-20-years`.`Antigen` in ('Pertussis','Diphtheria, tetanus')) then 'Pertussis, Diphtheria, tetanus' when (`projectfit5120`.`vaccines-for-refugees-aged-20-years`.`Antigen` = 'Poliomyelitis') then 'Poliomyelitis' when (`projectfit5120`.`vaccines-for-refugees-aged-20-years`.`Antigen` = 'mumps, Measles, rubella') then 'mumps, Measles, rubella' when (`projectfit5120`.`vaccines-for-refugees-aged-20-years`.`Antigen` = 'Hepatitis B') then 'Hepatitis B' when (`projectfit5120`.`vaccines-for-refugees-aged-20-years`.`Antigen` = 'Varicella') then 'Varicella' end) AS `VaccineName`,(case when (`projectfit5120`.`vaccines-for-refugees-aged-20-years`.`Antigen` in ('Pertussis','Diphtheria, tetanus')) then 'DTP3' when (`projectfit5120`.`vaccines-for-refugees-aged-20-years`.`Antigen` = 'Poliomyelitis') then 'IPV1' when (`projectfit5120`.`vaccines-for-refugees-aged-20-years`.`Antigen` = 'mumps, Measles, rubella') then 'MMR' when (`projectfit5120`.`vaccines-for-refugees-aged-20-years`.`Antigen` = 'Hepatitis B ') then 'HepB' when (`projectfit5120`.`vaccines-for-refugees-aged-20-years`.`Antigen` = 'Varicella') then 'Varicella' end) AS `VaccineCode` from `projectfit5120`.`vaccines-for-refugees-aged-20-years`;
